'use strict';

var TRPCError = require('../error/TRPCError.js');

function toURL(urlOrPathname) {
    try {
        const url = urlOrPathname.startsWith('/') ? `http://127.0.0.1${urlOrPathname}` : urlOrPathname;
        return new URL(url);
    } catch (cause) {
        throw new TRPCError.TRPCError({
            code: 'BAD_REQUEST',
            message: 'Invalid URL',
            cause
        });
    }
}

exports.toURL = toURL;
